!function e(o,t,r){function s(u,i){if(!t[u]){if(!o[u]){var n="function"==typeof require&&require;if(!i&&n)return n(u,!0);if(c)return c(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[u]={exports:{}};o[u][0].call(l.exports,function(e){var t=o[u][1][e];return s(t?t:e)},l,l.exports,e,o,t,r)}return t[u].exports}for(var c="function"==typeof require&&require,u=0;u<r.length;u++)s(r[u]);return s}({1:[function(e,o,t){"use strict";mejs.i18n.en["mejs.source-chooser"]="Source Chooser",Object.assign(mejs.MepDefaults,{sourcechooserText:null}),Object.assign(MediaElementPlayer.prototype,{buildsourcechooser:function(e,o,t,r){for(var s=this,c=mejs.Utils.isString(s.options.sourcechooserText)?s.options.sourcechooserText:mejs.i18n.t("mejs.source-chooser"),u=[],n=void 0,a=0,l=s.node.childNodes;i<l;i++){var d=s.node.childNodes[a];"SOURCE"===d.nodeName&&u.push(d)}if(!(u.length<=1)){e.sourcechooserButton=document.createElement("div"),e.sourcechooserButton.className=s.options.classPrefix+"button "+s.options.classPrefix+"sourcechooser-button",e.sourcechooserButton.innerHTML='<button type="button" role="button" aria-haspopup="true" aria-owns="'+s.id+'" title="'+c+'" aria-label="'+c+'" tabindex="0"></button>'+('<div class="'+s.options.classPrefix+"sourcechooser-selector "+s.options.classPrefix+'offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul></ul></div>'),s.addControlElement(e.sourcechooserButton,"sourcechooser"),e.sourcechooserButton.addEventListener("mouseover",function(){clearTimeout(n),e.showSourcechooserSelector()}),e.sourcechooserButton.addEventListener("mouseout",function(){n=setTimeout(function(){e.hideSourcechooserSelector()},500)}),e.sourcechooserButton.addEventListener("keydown",function(o){if(s.options.keyActions.length){var t=o.which||o.keyCode||0;switch(t){case 32:mejs.MediaFeatures.isFirefox||e.showSourcechooserSelector(),e.sourcechooserButton.querySelector("input[type=radio]:checked").focus();break;case 13:e.showSourcechooserSelector(),e.sourcechooserButton.querySelector("input[type=radio]:checked").focus();break;case 27:e.hideSourcechooserSelector(),e.sourcechooserButton.querySelector("button").focus();break;default:return!0}o.preventDefault(),o.stopPropagation()}}),e.sourcechooserButton.addEventListener("focusout",mejs.Utils.debounce(function(){setTimeout(function(){var o=document.activeElement.closest("."+s.options.classPrefix+"sourcechooser-selector");o||e.hideSourcechooserSelector()},0)},100));for(var h=e.sourcechooserButton.querySelectorAll("input[type=radio]"),f=function(e,o){h[e].addEventListener("click",function(){this.setAttribute("aria-selected",!0),this.checked=!0;for(var o=this.closest("."+s.options.classPrefix+"sourcechooser-selector").querySelectorAll("input[type=radio]"),t=0,c=o.length;t<c;e++)o[e]!==this&&(o[e].setAttribute("aria-selected","false"),o[e].removeAttribute("checked"));var u=this.value;r.currentSrc!==u&&!function(){var e=r.paused,o=function o(){e||r.play(),r.removeEventListener("canplay",o,!0)},t=r.currentTime;r.pause(),r.setSrc(u),r.load(),r.addEventListener("loadedmetadata",function(){r.currentTime=t},!0),r.addEventListener("canplay",o,!0),r.load()}()}),p=e},p=0,v=h.length;p<v;p++)f(p,v);e.sourcechooserButton.querySelector("button").addEventListener("click",function(){mejs.Utils.hasClass(mejs.Utils.siblings(this,"."+s.options.classPrefix+"sourcechooser-selector"),s.options.classPrefix+"offscreen")?(e.showSourcechooserSelector(),e.sourcechooserButton.querySelectorAll("input[type=radio]:checked").focus()):e.hideSourcechooserSelector()});for(var S=0,y=u.length;S<y;S++){var m=u[S];void 0!==m.type&&"SOURCE"===m.nodeName&&"function"==typeof r.canPlayType&&e.addSourceButton(m.src,m.title,m.type,r.src===m.src)}}},addSourceButton:function(e,o,t,r){var s=this;""!==o&&void 0!==o||(o=e),t=t.split("/")[1],s.sourcechooserButton.querySelector("ul").innerHTML+="<li>"+('<input type="radio" name="'+s.id+'_sourcechooser" id="'+s.id+"_sourcechooser_"+o+t+'"')+('role="menuitemradio" value="'+e+'" '+(r?'checked="checked"':"")+' aria-selected="'+r+'"/>')+('<label for="'+s.id+"_sourcechooser_"+o+t+'" aria-hidden="true">'+o+" ("+t+")</label>")+"</li>",s.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var e=this;e.sourcechooserButton.querySelector("."+e.options.classPrefix+"sourcechooser-selector").style.height=parseFloat(e.sourcechooserButton.querySelector("."+e.options.classPrefix+"sourcechooser-selector ul").offsetHeight)+"px"},hideSourcechooserSelector:function(){var e=this;if(void 0!==e.sourcechooserButton&&e.sourcechooserButton.querySelector("input[type=radio]")){var o=e.sourcechooserButton.querySelector("."+e.options.classPrefix+"sourcechooser-selector"),t=o.querySelectorAll("input[type=radio]");o.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true"),mejs.Utils.addClass(o,e.options.classPrefix+"offscreen");for(var r=0,s=t.length;r<s;r++)t[r].setAttribute("tabindex","-1")}},showSourcechooserSelector:function(){var e=this;if(void 0!==e.sourcechooserButton&&e.sourcechooserButton.querySelector("input[type=radio]")){var o=e.sourcechooserButton.querySelector("."+e.options.classPrefix+"sourcechooser-selector"),t=o.querySelectorAll("input[type=radio]");o.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false"),mejs.Utils.removeClass(o,e.options.classPrefix+"offscreen");for(var r=0,s=t.length;r<s;r++)t[r].setAttribute("tabindex","0")}}})},{}]},{},[1]);
