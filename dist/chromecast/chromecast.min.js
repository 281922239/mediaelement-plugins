!function e(t,a,r){function o(n,i){if(!a[n]){if(!t[n]){var c="function"==typeof require&&require;if(!i&&c)return c(n,!0);if(s)return s(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var d=a[n]={exports:{}};t[n][0].call(d.exports,function(e){var a=t[n][1][e];return o(a?a:e)},d,d.exports,e,t,a,r)}return a[n].exports}for(var s="function"==typeof require&&require,n=0;n<r.length;n++)o(r[n]);return o}({1:[function(e,t,a){"use strict";mejs.i18n.en["mejs.chromecast-title"]="Chromecast",mejs.i18n.en["mejs.chromecast-subtitle"]="Chromecast Subtitle",Object.assign(mejs.MepDefaults,{castAppID:"4F8B3483",policy:"origin",castTitle:null,castSubtitle:null}),Object.assign(MediaElementPlayer.prototype,{buildchromecast:function(e,t,a,r){var o=this,s=document.createElement("div"),n=mejs.Utils.isString(o.options.castTitle)?o.options.castTitle:mejs.i18n.t("mejs.chromecast-title");if(o.isVideo){var i=!1;if(s.className=o.options.classPrefix+"button "+o.options.classPrefix+"chromecast-button",s.innerHTML='<button type="button" is="google-cast-button" aria-controls="'+o.id+'" title="'+n+'" aria-label="'+n+'" tabindex="0"></button>',o.addControlElement(s,"chromecast"),o.castButton=s,!i){window.__onGCastApiAvailable=function(e){e&&o.initializeCastApi()};var c=document.createElement("script");c.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(c),i=!0}}},initializeCastApi:function(){var e=this,t=void 0;switch(e.options.policy){case"tab":t="TAB_AND_ORIGIN_SCOPED";break;case"page":t="PAGE_SCOPED";break;default:t="ORIGIN_SCOPED"}cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:e.options.castAppID,autoJoinPolicy:chrome.cast.AutoJoinPolicy[t]}),e.castPlayer=new cast.framework.RemotePlayer,e.castPlayerController=new cast.framework.RemotePlayerController(e.castPlayer),e.castPlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,e.loadPlayer)},loadPlayer:function(){var e=this;e.media.paused||e.media.pause(),cast&&cast.framework?e.castPlayer.isConnected&&e.setupPlayer():e.castButton.style.display="none"},setupPlayer:function(){var e=this,t=e.media.getSrc(),a=cast.framework.CastContext.getInstance().getCurrentSession(),r=new chrome.cast.media.MediaInfo(t,mejs.Utils.getTypeFromFile(t)),o=new chrome.cast.media.LoadRequest(r);e.castPlayerController.addEventListener(cast.framework.castPlayerEventType.IS_PAUSED_CHANGED,function(){e.castPlayer.isPaused?e.media.pause():e.media.play()}),e.castPlayerController.addEventListener(cast.framework.castPlayerEventType.IS_MUTED_CHANGED,function(){e.media.setMute(e.castPlayer.isMuted)}),e.castPlayerController.addEventListener(cast.framework.castPlayerEventType.VOLUME_LEVEL_CHANGED,function(){}),e.media.addEventListener("loadeddata",function(){a.loadMedia(o).then(function(){console.log("Load succeed")},function(e){var t=e.description?" : "+e.description:".",a=void 0;switch(e.code){case chrome.cast.ErrorCode.API_NOT_INITIALIZED:a="The API is not initialized"+t;break;case chrome.cast.ErrorCode.CANCEL:a="The operation was canceled by the user"+t;break;case chrome.cast.ErrorCode.CHANNEL_ERROR:a="A channel to the receiver is not available"+t;break;case chrome.cast.ErrorCode.EXTENSION_MISSING:a="The Cast extension is not available"+t;break;case chrome.cast.ErrorCode.INVALID_PARAMETER:a="The parameters to the operation were not valid"+t;break;case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:a="No receiver was compatible with the session request"+t;break;case chrome.cast.ErrorCode.SESSION_ERROR:a="A session could not be created, or a session was invalid"+t;break;case chrome.cast.ErrorCode.TIMEOUT:a="The operation timed out"+t;break;default:a="Unknown error: "+e.code}console.error(a)})});for(var s=["play","pause"],n=0,i=s.lenght;n<i;n++)e.media.addEventListener(s[n],function(){e.castPlayer.isPaused&&e.castPlayerController.playOrPause()});e.media.addEventListener("volumechange",function(){e.castPlayer.volumeLevel=e.media.getVolume(),e.castPlayerController.setVolumeLevel(),(e.media.getVolume()&&e.media.muted||!e.media.getVolume())&&e.castPlayerController.muteOrUnmute()}),e.media.addEventListener("seeked",function(){e.castPlayer.currentTime=e.media.getCurrentTime(),e.castPlayerController.seek()})}})},{}]},{},[1]);
